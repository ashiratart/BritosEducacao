<!DOCTYPE html>
<html lang="pt-Br">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/codigos/css/finaca.css">
    <link rel="stylesheet" href="/codigos/css/bodyGeral.css">
    <link rel="stylesheet" href="/codigos/css/imagens.css">
</head>
<body>
<div class="info">
    <div id="cabecalho">
        <div id="abertura">
            <h3>Qual o Valor do caixa?</h3>
            <input id="Tabertura" type="number" value="200" placeholder="R$200"> <!-- Adicionado um valor padrão para o input -->
        </div>
        <div id="imagem">
            <img src="/imagens/logos/3.png" id="logo">
            <div id="inform">
                <h1>Britos&Educação</h1>
                <h2>Rua Paulo Ramos N°73</h2>
                <h2>CNPJ: 46.241.508.0001/82</h2>
            </div>
        </div>
        <div id="final">
            <h3>Saldo do caixa nesse período</h3>
            <input type="number" id="Tfinal" readonly> <!-- Adicionado o atributo "readonly" para tornar o campo apenas de leitura -->
        </div>
    </div>

    <!-- Tabela -->
    <div id="caixa">
        <table id="vall">
            <tr id="titulo">
                <th>Descrição</th>
                <th>Entrada</th>
                <th>Saída</th>
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
            <tr>
                <td><input class="T1" placeholder="Matricula, Mensalida... turma A/B" type="text"></td>
                <td><input class="T2 somar" type="number" step="0.01" placeholder="0.00"></td>
                <td><input class="T3 subtrair" type="number" step="0.01" placeholder="0.00"></td> <!-- Alterado a classe para "subtrair" -->
            </tr>
        </table>
    </div>
</div>

<script src="/codigos/js/impre.js"></script>

<button onclick="imprimirDiv()">Imprimir</button>

<script>
    function calcularSaldo() {
        var inputsEntrada = document.querySelectorAll('.T2.somar');
        var inputsSaida = document.querySelectorAll('.T3.subtrair');
        var totalEntrada = 0;
        var totalSaida = 0;

        for (var i = 0; i < inputsEntrada.length; i++) {
            var valorEntrada = parseFloat(inputsEntrada[i].value);
            totalEntrada += isNaN(valorEntrada) ? 0 : valorEntrada;
        }

        for (var i = 0; i < inputsSaida.length; i++) { // Adicionado o loop para os inputs de saída
            var valorSaida = parseFloat(inputsSaida[i].value);
            totalSaida += isNaN(valorSaida) ? 0 : valorSaida;
        }

        var tabertura = parseFloat(document.getElementById('Tabertura').value);
        tabertura = isNaN(tabertura) ? 0 : tabertura;

        var tfinal = tabertura + totalEntrada - totalSaida; // Corrigido o cálculo do saldo
        document.getElementById('Tfinal').value = tfinal.toFixed(2);
    }

    var inputs = document.querySelectorAll('.somar, .subtrair, #Tabertura'); // Adicionado a classe "subtrair" nos inputs de saída
    for (var i = 0; i < inputs.length; i++) {
        inputs[i].addEventListener('input', calcularSaldo);
    }
</script>
</body>
</html>
